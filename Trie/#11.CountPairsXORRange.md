#### #11. Count Pairs XOR Range

Leetcode Link: https://leetcode.com/problems/count-pairs-with-xor-in-a-range/

**C++ Code**
```cpp
#define LIMIT 14

struct Node {
    Node* links[2];
    int count = 0;

    bool containsKey(int bit) {
        return links[bit] != NULL;
    }
    void put(int bit, Node* node) {
        links[bit] = node;
    }
    Node* get(int bit) {
        return links[bit];
    }
};

class Trie {
private:
    Node* root;
public:
    Trie() {
        root = new Node();
    }
    void insert(int& num) {
        Node* node = root;
        for (int i = LIMIT; i >= 0; i--) {
            int bit = num >> i & 1;
            if (!node->containsKey(bit))
                node->put(bit, new Node());
            node = node->get(bit);
            node->count++;
        }
    }
    int countPairsLessThanX(int num, int x) {
        Node* node = root;
        int pairCount = 0;

        for (int i = LIMIT; i >= 0 && node; i--) {
            int numBit = num >> i & 1;
            int xbit = x >> i & 1;

            if (xbit == 1) {
                if (node->containsKey(numBit))
                    pairCount += node->get(numBit)->count;
                node = node->get(!numBit);
            } else
                node = node->get(numBit);
        }
        return pairCount;
    }
};

class Solution {
public:
    int countPairs(vector<int>& nums, int low, int high) {
        Trie trie;
        int res = 0;

        for (int num : nums) {
            int pairsHigh = trie.countPairsLessThanX(num, high + 1);
            int pairsLow = trie.countPairsLessThanX(num, low);

            res += pairsHigh - pairsLow;
            trie.insert(num);
        }

        return res;
    }
};
```
